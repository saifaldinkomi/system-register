{% extends 'register/main.html' %}

{% block content %}
  <div class="container">
    <div class="row">
      <div class="col">
        <form class="d-flex py-4 flex-column row m-0 h-100" method="POST">
          {% csrf_token %}
          <div class="d-flex flex-column w-25">
            {{ searchFilter.form }}
            <button type="submit" class="btn btn-primary mt-3">Submit</button>
          </div>
        </form>
      </div>
    </div>
  </div>
  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">Name</th>
        <th scope="col">Description</th>
        <th scope="col">Prerequisites</th>
        <th scope="col">Instructor</th>
        <th scope="col">Capacity</th>
        <th scope="col">Room No</th>
        <th scope="col">Time</th>
        <th scope="col">Days</th>
        <th scope="col">Action</th>
      </tr>
    </thead>
    <tbody>
      {% for index in courses %}
        <tr>
          <td>{{ index.name }}</td>
          <td>{{ index.description }}</td>
          <td>{{ index.prerequisites }}</td>
          <td>{{ index.instructor }}</td>
          <td>{{ index.capacity }}</td>
          <td>{{ index.scheduleId.roomNo }}</td>
          <td>{{ index.scheduleId.startTime }} - {{ index.scheduleId.endTime }}</td>
          <td>
            {% for item in index.scheduleId.days.all %}
              {{ item.name }},
            {% endfor %}
          </td>
          <td>
            <a href="{% url 'updateCourse' index.id %}"><i class="fa-solid fa-pen text-primary"></i></a>
            <a href="{% url 'deleteCourse' index.id %}"><i class="fa-solid fa-trash text-danger"></i></a>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>

  <a role="button" class="btn btn-success" href="{% url 'createCourse' %}">Create</a>
{% endblock %}
